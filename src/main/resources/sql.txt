-- logpass admin / admin
-- logpass user / user


DROP TABLE users_roles;
DROP TABLE roles;
DROP TABLE users;

CREATE TABLE IF NOT EXISTS users(
                                    id         BIGSERIAL PRIMARY KEY,
                                    age        SMALLINT NOT NULL,
                                    email      VARCHAR(255),
                                    first_name VARCHAR(255),
                                    last_name  VARCHAR(255),
                                    password   VARCHAR(255),
                                    username   VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS roles(
                                    id   BIGSERIAL PRIMARY KEY,
                                    name VARCHAR(255)
);

CREATE TABLE IF NOT EXISTS users_roles(
                                          user_id BIGSERIAL REFERENCES users(id),
                                          role_id BIGSERIAL REFERENCES roles(id)
);

INSERT INTO users (age, email, first_name, last_name, password, username)
VALUES (30, 'admin@lol.com', 'admin', 'admin', '$2a$12$30jeGz6JECTz2CNgXXNmOurxk2NlL5F/LOhAP0lkpCPUubJ9emaPS',
        'admin');
INSERT INTO users (age, email, first_name, last_name, password, username)
VALUES (29, 'user@lol.com', 'user', 'user', '$2a$12$x223yf0l0/2gr8B8HaVv.eb48OKK3e8WkxV0isGFYwWAr9SAMOmoq', 'user');

INSERT INTO roles (name)
VALUES ('ROLE_ADMIN');
INSERT INTO roles (name)
VALUES ('ROLE_USER');

INSERT INTO users_roles (user_id, role_id)
VALUES (1, 1);
INSERT INTO users_roles (user_id, role_id)
VALUES (1, 2);
INSERT INTO users_roles (user_id, role_id)
VALUES (2, 2);